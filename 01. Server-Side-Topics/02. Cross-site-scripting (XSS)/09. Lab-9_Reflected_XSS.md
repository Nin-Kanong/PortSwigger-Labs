<h1 align="center"> Reflected XSS into a JavaScript string with angle brackets HTML encoded </h1>



### LAB URL: https://portswigger.net/web-security/cross-site-scripting/contexts/lab-javascript-string-angle-brackets-html-encoded


## Requirement This Lab:
This lab contains a reflected cross-site scripting vulnerability in the search query tracking functionality where angle brackets are encoded. The reflection occurs inside a JavaScript string. To solve this lab, perform a cross-site scripting attack that breaks out of the JavaScript string and calls the `alert` function. 


## Start Lab:
<img width="1100" height="700" alt="image" src="https://github.com/user-attachments/assets/3b6b4986-4c5c-49f9-aff1-d33515151b04" />

<img width="1037" height="954" alt="image" src="https://github.com/user-attachments/assets/4147ae84-01b6-4092-8b78-924ff58f4ce8" />


- In this if i input
````
Hello
````
<img width="740" height="786" alt="image" src="https://github.com/user-attachments/assets/3050330d-fc13-4683-875f-41dee3e1ffac" />

- Now i see:
<img width="777" height="297" alt="image" src="https://github.com/user-attachments/assets/048ad979-78ed-458f-99fc-6a16102e29b5" />


- To find our search results -> `Right-Click` -> `Inspect` or Press `F12`:
<img width="741" height="688" alt="image" src="https://github.com/user-attachments/assets/2ce43ed2-9391-4648-b608-862c2e267d3a" />

- After press `Ctrl + F` -> type `Hello`
<img width="1562" height="696" alt="image" src="https://github.com/user-attachments/assets/809c27c5-696e-48eb-9c7d-91453f6e51cb" />


- Or in this i want to use with `Burp Suite` -> afetr i open my `burp` -> After open `Burp suite Browser` :
<img width="1918" height="852" alt="image" src="https://github.com/user-attachments/assets/a1607e65-9591-4ff4-884a-f5bffd409589" />

- After input target URL:
<img width="1919" height="846" alt="image" src="https://github.com/user-attachments/assets/d4f1930c-5197-45d1-a678-553184e299bb" />

- After back to our `Burp` -> go to `HTTP history`:
<img width="1923" height="872" alt="image" src="https://github.com/user-attachments/assets/ecbf9031-3db0-4429-a59e-9299d191d267" />


- After back to our `Intercept` -> open `Intercept on`:
<img width="1284" height="247" alt="image" src="https://github.com/user-attachments/assets/9635a625-1515-4d30-9e42-50c7817cf81b" />

- Back to our `Target` -> In this if i input `Hello` -> after click on `search`:
<img width="1042" height="413" alt="image" src="https://github.com/user-attachments/assets/b89f54bf-caca-4c2b-bdb4-752e28493551" />

- After back to our `Burp`:
<img width="1923" height="803" alt="image" src="https://github.com/user-attachments/assets/cabd6603-6576-4f73-bcf4-aa3681f2bfe6" />

- After `Right-click` - `Send to Repeater` or we can press `Ctrl + R`:
<img width="1918" height="1078" alt="image" src="https://github.com/user-attachments/assets/43d2d5d2-f6bb-4ded-9a97-35892f25f047" />


- After go to `REpeater`:
<img width="1493" height="786" alt="image" src="https://github.com/user-attachments/assets/26c0002b-6895-4a4a-9993-ccc261f4de9e" />

- Now we see this and click on `Send`:
<img width="1492" height="726" alt="image" src="https://github.com/user-attachments/assets/a7068cab-e9bd-46de-a6aa-b3c88cf75b99" />

- After find our search `Hello`:
<img width="1881" height="976" alt="image" src="https://github.com/user-attachments/assets/c3e8a354-d713-4922-8114-6f71ca18189f" />

- If i change in search to `alert()` -> click `Send`:
<img width="1877" height="917" alt="image" src="https://github.com/user-attachments/assets/f7f9a43e-0b46-46c4-be40-17cf34ea3ddc" />

- Now we see:
<img width="1878" height="935" alt="image" src="https://github.com/user-attachments/assets/9dc5dfa4-7a3a-4651-b657-d02ab011a1d5" />



- What about if i input others like `'>alert()`:
<img width="908" height="592" alt="image" src="https://github.com/user-attachments/assets/78649c3b-6501-41cf-8ae5-11df1368a334" />

- After we see:
<img width="1877" height="981" alt="image" src="https://github.com/user-attachments/assets/b2fb19b8-cb0b-4dae-abbf-2a1e2b5e44a2" />

- In this we see: `&apos;&gt;alert()`, in is the key that make me can find XSS. 
  - `'`: attempts to close a single-quoted HTML attribute
  - `&gt;`: is the HTML-encoded form of >
  - `alert()`: the start of a JavaScript execution attempt




- IF in this i search others like `';alert(1);//` -> after click on `Send`:
<img width="901" height="556" alt="image" src="https://github.com/user-attachments/assets/0620acd9-1772-448c-9d74-5ebc92128063" />

<img width="1871" height="807" alt="image" src="https://github.com/user-attachments/assets/09c0bdf9-5918-40e4-9908-348a14e32928" />

- After back to ``browser``:
<img width="1531" height="572" alt="image" src="https://github.com/user-attachments/assets/47414932-73e8-4e19-a57e-b4187163e48d" />

<img width="1899" height="754" alt="image" src="https://github.com/user-attachments/assets/3d81d993-27c9-4eb5-b7ac-292b5fd54f4b" />

- Now we get successful.




- After i will try others than this like `'+alert()+'`: 
<img width="1487" height="696" alt="image" src="https://github.com/user-attachments/assets/c198b3b5-dd2b-407b-84ae-38211a4583e8" />

- In this i will change from `hello` -> `'+alert()+`:
<img width="1475" height="720" alt="image" src="https://github.com/user-attachments/assets/ca097c20-7eac-495e-99ac-3b15350480d5" />

<img width="1482" height="703" alt="image" src="https://github.com/user-attachments/assets/55de23e0-8167-4f3d-86c1-65bf61534258" />

- After back to `Browser`:
<img width="1918" height="446" alt="image" src="https://github.com/user-attachments/assets/3b6a0552-e957-47b3-beb8-a5fa5867064a" />


- Now we got successful.




- If i search with this: `'-alert()-`
<img width="798" height="310" alt="image" src="https://github.com/user-attachments/assets/10c07864-2288-4332-a011-650340ec1c3c" />

<img width="694" height="288" alt="image" src="https://github.com/user-attachments/assets/84f4fa41-794c-4462-a33a-b2d3ad40e126" />


- Now we get successful to Reflected XSS.

---


<h2 align="center"> Finished Lab 9 Reflected XSS </h2>


<h2 align="center"> Author By: Nin Kanong (k4n0ng) </h2>
